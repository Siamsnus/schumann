<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schumann Resonance — Live Monitor | Real-Time Earth Frequency Data</title>
    <meta name="description" content="Live Schumann Resonance monitoring at 7.83 Hz. Real-time spectrograms, amplitude, frequency, Q-factor, ionosphere data and solar activity from Tomsk Space Observatory.">
    <meta name="keywords" content="Schumann resonance, 7.83 Hz, Earth frequency, ELF, ionosphere, spectrogram, geomagnetic, solar activity, space weather, Tomsk observatory">
    <meta property="og:title" content="Schumann Resonance — Live Monitor">
    <meta property="og:description" content="Real-time Schumann Resonance data at 7.83 Hz. Live spectrograms, ionosphere monitoring, and solar activity.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://siamsnus.github.io/schumann/">
    <link rel="canonical" href="https://siamsnus.github.io/schumann/">
    <style>
        *,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
        :root{--bg:#0a0e17;--bg2:#111827;--card:#151d2e;--border:#1e2d45;--text:#e2e8f0;--text2:#a8b8cc;--muted:#8294ab;--accent:#38bdf8;--accent2:#818cf8;--green:#34d399;--amber:#fbbf24}
        html{scroll-behavior:smooth}
        body{background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;line-height:1.6;min-height:100vh;background-image:linear-gradient(rgba(56,189,248,0.015) 1px,transparent 1px),linear-gradient(90deg,rgba(56,189,248,0.015) 1px,transparent 1px);background-size:60px 60px}
        a{color:var(--accent);text-decoration:underline;text-decoration-color:rgba(56,189,248,0.3);text-underline-offset:2px;transition:text-decoration-color 0.2s}a:hover{color:#7dd3fc;text-decoration-color:rgba(125,211,252,0.6)}
        .header{position:sticky;top:0;z-index:100;background:rgba(10,14,23,0.92);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border-bottom:1px solid var(--border);padding:0 24px}
        .header-inner{max-width:1400px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:56px}
        .logo{font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:14px;font-weight:600;color:var(--text)}.logo span{color:var(--accent);font-weight:400}
        .header-nav{display:flex;gap:20px;align-items:center}
        .header-nav a{font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:11px;text-transform:uppercase;letter-spacing:0.06em;color:var(--muted);transition:color 0.2s;text-decoration:none}
        .header-nav a:hover,.header-nav a.active{color:var(--accent)}
        .container{max-width:1400px;margin:0 auto;padding:32px 24px 64px}
        h1{font-size:clamp(2rem,4.5vw,3rem);font-weight:700;letter-spacing:-0.03em;line-height:1.15;margin-bottom:12px}
        h1 .hz{color:var(--accent);font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-weight:500;font-size:0.65em}
        .intro{font-size:1.05rem;color:var(--text2);font-weight:300;max-width:780px;line-height:1.7;margin-bottom:28px}
        .status-bar{display:flex;flex-wrap:wrap;gap:24px;align-items:center;padding:14px 0;margin-bottom:40px;border-top:1px solid var(--border);border-bottom:1px solid var(--border);font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:12px}
        .status-item{display:flex;align-items:center;gap:8px}
        .status-label{color:var(--muted);text-transform:uppercase;letter-spacing:0.08em;font-size:10px}
        .status-value{color:var(--text)}
        .live-dot{width:8px;height:8px;background:var(--green);border-radius:50%;display:inline-block;animation:pulse 2s ease-in-out infinite;will-change:transform,opacity}
        @keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.7;transform:scale(1.3)}}
        .refresh-btn{font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:11px;letter-spacing:0.06em;text-transform:uppercase;color:var(--muted);background:transparent;border:1px solid var(--border);border-radius:6px;padding:6px 14px;cursor:pointer;transition:all 0.2s}
        .refresh-btn:hover{color:var(--accent);border-color:var(--accent);background:rgba(56,189,248,0.08)}
        h2{font-size:1.35rem;font-weight:600;margin-top:52px;margin-bottom:20px;letter-spacing:-0.01em}
        .section-label{font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:11px;font-weight:400;color:var(--muted);letter-spacing:0.06em;text-transform:uppercase;margin-left:10px}
        .section-desc{color:var(--text2);font-size:0.95rem;margin-bottom:20px;max-width:750px;line-height:1.7}
        .info-box{background:linear-gradient(135deg,rgba(56,189,248,0.06),rgba(129,140,248,0.04));border:1px solid rgba(56,189,248,0.15);border-radius:12px;padding:20px 24px;margin-bottom:24px}
        .info-box h3{font-size:0.95rem;font-weight:600;color:var(--accent);margin-bottom:8px}
        .info-box p{font-size:0.9rem;color:var(--text2);line-height:1.7}
        .freq-list{display:flex;flex-wrap:wrap;gap:10px;margin:0 0 24px}
        .freq-badge{display:flex;flex-direction:column;align-items:center;padding:10px 18px;background:var(--card);border:1px solid var(--border);border-radius:10px;transition:border-color 0.3s}
        .freq-badge:hover{border-color:var(--accent)}
        .freq-badge .val{font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:1.1rem;font-weight:700;color:var(--accent)}
        .freq-badge .mode{font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:10px;color:var(--muted);text-transform:uppercase;letter-spacing:0.1em}
        .grid{display:grid;grid-template-columns:1fr;gap:16px;margin-bottom:16px}
        .grid-2{grid-template-columns:repeat(2,1fr)}.grid-3{grid-template-columns:repeat(3,1fr)}
        .card{background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden;transition:border-color 0.3s}
        .card:hover{border-color:rgba(56,189,248,0.3)}
        .card-head{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;border-bottom:1px solid var(--border);background:rgba(15,23,42,0.4)}
        .card-title{font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:13px;font-weight:500;color:var(--text)}
        .card-meta{font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:10px;color:var(--muted);text-transform:uppercase;letter-spacing:0.08em}
        .card-body{padding:4px;position:relative;min-height:180px}
        .card-body img{width:100%;height:auto;display:block;border-radius:8px;background:#0d1320;cursor:pointer;opacity:0;transition:opacity 0.5s ease}
        .card-body img.loaded{opacity:1}
        .loading{position:absolute;inset:4px;display:flex;align-items:center;justify-content:center;background:#0d1320;border-radius:8px;color:var(--muted);font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:12px}
        .loading.hidden{display:none}
        .card-foot{padding:12px 18px;border-top:1px solid var(--border);font-size:13px;color:var(--text2);line-height:1.6}
        .sources{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:24px;margin-top:52px}
        .sources h3{font-size:1rem;margin-bottom:12px}.sources p{font-size:0.9rem;color:var(--text2);margin-bottom:6px}
        .sources .credit{font-size:11px;color:var(--muted);margin-top:14px;font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace}
        .lightbox{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.92);z-index:9999;align-items:center;justify-content:center;padding:20px;cursor:pointer}
        .lightbox.active{display:flex}
        .lightbox img{max-width:95vw;max-height:95vh;object-fit:contain;border-radius:8px}
        .lightbox-close{position:absolute;top:16px;right:24px;color:#fff;font-size:36px;cursor:pointer;background:none;border:none;line-height:1;z-index:10000}
        .footer{border-top:1px solid var(--border);padding:32px 24px;text-align:center}
        .footer-inner{max-width:1400px;margin:0 auto}
        .footer-links{display:flex;flex-wrap:wrap;justify-content:center;gap:24px;margin-bottom:16px}
        .footer-links a{font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:11px;text-transform:uppercase;letter-spacing:0.06em;color:var(--muted);text-decoration:none}
        .footer-links a:hover{color:var(--accent)}
        .footer-copy{font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:11px;color:var(--muted)}
        ::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--muted)}
        /* HAMBURGER */
        .hamburger{display:none;background:none;border:none;cursor:pointer;padding:8px;margin-right:-8px}
        .hamburger svg{width:24px;height:24px;stroke:var(--text);stroke-width:2;stroke-linecap:round}
        .mobile-menu{display:none;position:fixed;inset:0;background:rgba(10,14,23,0.98);z-index:200;flex-direction:column;align-items:center;justify-content:center;gap:32px}
        .mobile-menu.open{display:flex}
        .mobile-menu a{font-family:'SF Mono','Cascadia Mono','Consolas','Liberation Mono',monospace;font-size:16px;text-transform:uppercase;letter-spacing:0.08em;color:var(--text2);padding:12px 24px;transition:color 0.2s;text-decoration:none}
        .mobile-menu a:hover,.mobile-menu a.active{color:var(--accent)}
        .mobile-menu .close-menu{position:absolute;top:16px;right:20px;background:none;border:none;cursor:pointer;padding:8px}
        .mobile-menu .close-menu svg{width:28px;height:28px;stroke:var(--text);stroke-width:2;stroke-linecap:round}

        @media(max-width:1024px){.grid-3{grid-template-columns:repeat(2,1fr)}}
        @media(max-width:768px){
            .grid-2,.grid-3{grid-template-columns:1fr}
            .header-nav{display:none}
            .hamburger{display:block}
            .container{padding:20px 16px 48px}
            h1{font-size:1.6rem}
            h2{font-size:1.15rem;margin-top:36px}
            .intro{font-size:0.95rem}
            .status-bar{gap:8px 16px;padding:12px 0;font-size:11px}
            .status-label{font-size:9px}
            .card-head{padding:10px 14px}
            .card-title{font-size:12px}
            .card-foot{padding:10px 14px;font-size:12px}
            .info-box{padding:16px 18px}
            .info-box p{font-size:0.85rem}
            .freq-list{gap:6px}
            .freq-badge{padding:8px 12px}
            .freq-badge .val{font-size:0.95rem}
            .section-desc{font-size:0.9rem}
            .sources{padding:18px}
            .footer-links{gap:16px}
            .lightbox{padding:8px}
            .lightbox-close{top:12px;right:16px;font-size:28px}
        }
        @media(max-width:380px){
            .status-bar{flex-direction:column;align-items:flex-start;gap:6px}
        }
    </style>
</head>
<body>
<div class="header"><div class="header-inner">
    <a href="/schumann/" class="logo" style="text-decoration:none">Schumann <span>Monitor</span></a>
    <nav class="header-nav">
        <a href="/schumann/" class="active">Live Data</a>
        <a href="/schumann/about.html">About</a>
        <a href="/schumann/science.html">Science</a>
        <a href="/schumann/history.html">History</a>
    </nav>
    <button class="hamburger" onclick="document.getElementById('mobileMenu').classList.add('open')" aria-label="Menu">
        <svg viewBox="0 0 24 24" fill="none"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
    </button>
</div></div>
<div class="mobile-menu" id="mobileMenu">
    <button class="close-menu" onclick="document.getElementById('mobileMenu').classList.remove('open')" aria-label="Close menu">
        <svg viewBox="0 0 24 24" fill="none"><line x1="6" y1="6" x2="18" y2="18"/><line x1="6" y1="18" x2="18" y2="6"/></svg>
    </button>
    <a href="/schumann/" class="active">Live Data</a>
    <a href="/schumann/about.html">About</a>
    <a href="/schumann/science.html">Science</a>
    <a href="/schumann/history.html">History</a>
</div>
<main>
<div class="container">
    <h1>Schumann Resonance <span class="hz">7.83 Hz</span></h1>
    <p class="intro">Real-time monitoring of Earth's electromagnetic heartbeat — the global resonances generated by lightning in the cavity between the planet's surface and ionosphere, measured at the Space Observatory in Tomsk, Russia.</p>
    <div class="status-bar">
        <div class="status-item"><span class="live-dot"></span><span class="status-value">LIVE</span></div>
        <div class="status-item"><span class="status-label">Source</span><span class="status-value">Tomsk Space Observatory</span></div>
        <div class="status-item"><span class="status-label">Data Time (CET)</span><span class="status-value" id="cdn-time">—</span></div>
        <div class="status-item"><span class="status-label">Auto-refresh</span><span class="status-value">5 min</span></div>
        <div class="status-item"><span class="status-label">Status</span><span class="status-value" id="load-status">Connecting...</span></div>
        <div class="status-item" style="margin-left:auto"><button class="refresh-btn" onclick="refreshAll()">↻ Refresh</button></div>
    </div>
    <h2 id="spectrogram">Spectrogram <span class="section-label">24h view</span></h2>
    <div class="info-box"><h3>How to read this chart</h3><p>The spectrogram shows 48 hours of electromagnetic activity in the ELF range (0–40 Hz). Time runs left to right, frequency bottom to top. Bright horizontal bands at ~7.83, 14.3, 20.8, 27.3, and 33.8 Hz are the Schumann resonance modes. Color intensity represents signal power — brighter means stronger. Vertical bright streaks indicate increased global lightning activity or space weather events affecting the ionosphere.</p></div>
    <div class="grid"><div class="card">
        <div class="card-head"><span class="card-title">◈ Live Spectrogram — Frequency vs Time</span><span class="card-meta">Tomsk UTC+7</span></div>
        <div class="card-body"><img id="img-schumann" width="648" height="279" alt="Schumann Resonance Spectrogram showing 48 hours of ELF electromagnetic activity" onclick="openLightbox(this)"><div class="loading" id="load-schumann">Connecting to observatory...</div></div>
        <div class="card-foot">Power spectral density of Earth's electromagnetic field in the ELF range (3–50 Hz). The five horizontal bands correspond to the Schumann resonance modes at approximately 7.83, 14.3, 20.8, 27.3, and 33.8 Hz.</div>
    </div></div>
    <h2 id="resonance">Resonance Components <span class="section-label">Amplitude · Frequency · Q-Factor</span></h2>
    <p class="section-desc">Earth's electromagnetic spectrum contains five primary Schumann resonance modes. Each represents a standing wave in the Earth-ionosphere cavity, driven by approximately 2,000 thunderstorms active at any moment worldwide.</p>
    <div class="freq-list">
        <div class="freq-badge"><span class="val">7.83</span><span class="mode">1st Mode</span></div>
        <div class="freq-badge"><span class="val">14.3</span><span class="mode">2nd Mode</span></div>
        <div class="freq-badge"><span class="val">20.8</span><span class="mode">3rd Mode</span></div>
        <div class="freq-badge"><span class="val">27.3</span><span class="mode">4th Mode</span></div>
        <div class="freq-badge"><span class="val">33.8</span><span class="mode">5th Mode</span></div>
    </div>
    <div class="grid grid-2">
        <div class="card"><div class="card-head"><span class="card-title">△ Amplitude</span><span class="card-meta">Relative power</span></div><div class="card-body"><img id="img-amplitude" width="648" height="279" loading="lazy" alt="Schumann Resonance amplitude" onclick="openLightbox(this)"><div class="loading" id="load-amplitude">Loading...</div></div><div class="card-foot">Signal strength of each mode. Spikes indicate increased global lightning or ionospheric disturbances. The 1st mode (7.83 Hz) is typically strongest.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">∿ Frequency Variation</span><span class="card-meta">Hz deviation</span></div><div class="card-body"><img id="img-frequency" width="648" height="279" loading="lazy" alt="Schumann Resonance frequency variation" onclick="openLightbox(this)"><div class="loading" id="load-frequency">Loading...</div></div><div class="card-foot">Center frequency of each mode. The fundamental fluctuates between 7.6–8.2 Hz. Diurnal variation follows global thunderstorm patterns, peaking when Africa and South America are in daylight.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">◎ Quality Factor (Q)</span><span class="card-meta">Resonance sharpness</span></div><div class="card-body"><img id="img-quality" width="648" height="279" loading="lazy" alt="Schumann Resonance quality factor" onclick="openLightbox(this)"><div class="loading" id="load-quality">Loading...</div></div><div class="card-foot">How "sharp" each resonance peak is. Higher Q = cleaner resonance. Typical: Q ≈ 4–6 for the fundamental. Lower Q may indicate ionospheric perturbation.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">◬ EM Background Level</span><span class="card-meta">Noise floor</span></div><div class="card-body"><img id="img-em-background" width="648" height="279" loading="lazy" alt="Electromagnetic background noise" onclick="openLightbox(this)"><div class="loading" id="load-em-background">Loading...</div></div><div class="card-foot">ELF noise floor. Elevated levels may indicate geomagnetic storms, solar particle events, or local interference affecting detector sensitivity.</div></div>
    </div>
    <h2 id="ionosphere">Ionosphere &amp; Geomagnetic <span class="section-label">Upper atmosphere · Magnetic field</span></h2>
    <p class="section-desc">The ionosphere forms the upper boundary of the Schumann resonance cavity at 60–1,000 km altitude. Its electron density, height, and conductivity directly control the resonance frequencies, amplitudes, and quality factors.</p>
    <div class="info-box"><h3>Why the ionosphere matters</h3><p>Think of Schumann resonances like sound waves bouncing inside a drum. Earth's surface is the bottom skin, the ionosphere is the top. When the ionosphere changes — from solar flares, geomagnetic storms, or day/night transitions — the "drum" changes shape, and the resonant frequencies shift accordingly.</p></div>
    <div class="grid grid-2">
        <div class="card"><div class="card-head"><span class="card-title">◈ Ionogram</span><span class="card-meta">Layer state</span></div><div class="card-body"><img id="img-ionogram" width="648" height="279" loading="lazy" alt="Ionogram showing ionospheric layers" onclick="openLightbox(this)"><div class="loading" id="load-ionogram">Loading...</div></div><div class="card-foot">Ionosonde sweep showing reflection heights at various frequencies. The curve traces electron density through the D, E, F1, and F2 layers.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">⊕ Magnetic Field Components</span><span class="card-meta">K-Index</span></div><div class="card-body"><img id="img-magnetic-field" width="648" height="279" loading="lazy" alt="Geomagnetic K-index" onclick="openLightbox(this)"><div class="loading" id="load-magnetic-field">Loading...</div></div><div class="card-foot">Geomagnetic disturbance (K-index 0–9). K ≥ 5 = storm. Major storms (K ≥ 7) cause auroras at mid-latitudes and significant Schumann anomalies.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">∿ Critical Frequencies</span><span class="card-meta">Ionospheric layers</span></div><div class="card-body"><img id="img-critical-freq" width="648" height="279" loading="lazy" alt="Critical frequencies of ionospheric layers" onclick="openLightbox(this)"><div class="loading" id="load-critical-freq">Loading...</div></div><div class="card-foot">Maximum frequency reflected by each layer. F2 layer (~5–12 MHz) is most important for Schumann cavity geometry.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">∿ Critical (no sporadic)</span><span class="card-meta">Clean signal</span></div><div class="card-body"><img id="img-critical-no-sporad" width="648" height="279" loading="lazy" alt="Critical frequencies without sporadic E" onclick="openLightbox(this)"><div class="loading" id="load-critical-no-sporad">Loading...</div></div><div class="card-foot">Same data with sporadic E-layer removed — a thin, patchy, highly ionized layer appearing unpredictably at ~100 km altitude.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">↕ Active Heights</span><span class="card-meta">Layer altitude</span></div><div class="card-body"><img id="img-active-heights" width="648" height="279" loading="lazy" alt="Active heights of ionospheric layers" onclick="openLightbox(this)"><div class="loading" id="load-active-heights">Loading...</div></div><div class="card-foot">Altitude of peak electron density. The F2 layer (200–400 km) defines the effective height of the Schumann cavity ceiling.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">⊕ World K-Index Database</span><span class="card-meta">NOAA Global</span></div><div class="card-body"><img id="img-world-database" width="648" height="279" loading="lazy" alt="Global K-index data" onclick="openLightbox(this)"><div class="loading" id="load-world-database">Loading...</div></div><div class="card-foot">3-hour K-indices from NOAA's global network. Green = quiet (K 0–3), yellow = unsettled (K 4), red = storm (K 5+).</div></div>
    </div>
    <h2 id="solar">Solar Activity <span class="section-label">NOAA · NASA SDO · SOHO</span></h2>
    <p class="section-desc">Solar events are the primary external driver of Schumann resonance variations. Solar flares ionize Earth's D-layer within minutes, coronal mass ejections trigger geomagnetic storms 1–3 days later, and coronal hole streams create recurring disturbances.</p>
    <div class="grid grid-2">
        <div class="card"><div class="card-head"><span class="card-title">☀ X-Ray Flux</span><span class="card-meta">GOES satellite</span></div><div class="card-body"><img id="img-solar-xray" width="648" height="279" loading="lazy" alt="Solar X-ray flux" onclick="openLightbox(this)"><div class="loading" id="load-solar-xray">Loading...</div></div><div class="card-foot">Solar X-ray flux. Flare classes: A &lt; B &lt; C &lt; M &lt; X. M/X-class flares cause sudden ionospheric disturbances detectable in Schumann data within 8 minutes.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">☀ Sunspot Regions</span><span class="card-meta">Active regions</span></div><div class="card-body"><img id="img-sunspots" width="512" height="512" loading="lazy" alt="Sunspot regions" onclick="openLightbox(this)"><div class="loading" id="load-sunspots">Loading...</div></div><div class="card-foot">Active sunspot regions. Complex beta-gamma-delta configurations have the highest X-class flare probability.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">☀ Coronal Holes</span><span class="card-meta">Solar wind source</span></div><div class="card-body"><img id="img-coronal-holes" width="512" height="512" loading="lazy" alt="Coronal holes" onclick="openLightbox(this)"><div class="loading" id="load-coronal-holes">Loading...</div></div><div class="card-foot">Open magnetic field regions releasing high-speed solar wind (600–800 km/s). Earth-facing holes create recurring disturbances every ~27 days.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">☀ Thematic Map</span><span class="card-meta">GOES-18</span></div><div class="card-body"><img id="img-thematic-18" width="512" height="512" loading="lazy" alt="GOES-18 thematic map" onclick="openLightbox(this)"><div class="loading" id="load-thematic-18">Loading...</div></div><div class="card-foot">GOES-18 thematic map labeling active regions, coronal holes, filaments, and bright points.</div></div>
    </div>
    <h2>Coronagraphs <span class="section-label">SOHO LASCO</span></h2>
    <p class="section-desc">The Large Angle Spectrometric Coronagraph blocks the solar disk to reveal coronal mass ejections (CMEs). Earth-directed "halo CMEs" appear as expanding rings.</p>
    <div class="grid grid-2">
        <div class="card"><div class="card-head"><span class="card-title">☀ LASCO C2</span><span class="card-meta">Inner corona · 2–6 R☉</span></div><div class="card-body"><img id="img-lasco-c2" width="512" height="512" loading="lazy" alt="LASCO C2 coronagraph" onclick="openLightbox(this)"><div class="loading" id="load-lasco-c2">Loading...</div></div><div class="card-foot">Inner corona (2–6 solar radii). CMEs first appear as bright expanding structures. White circle = Sun's size behind the occulting disk.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">☀ LASCO C3</span><span class="card-meta">Outer corona · 3.7–30 R☉</span></div><div class="card-body"><img id="img-lasco-c3" width="512" height="512" loading="lazy" alt="LASCO C3 coronagraph" onclick="openLightbox(this)"><div class="loading" id="load-lasco-c3">Loading...</div></div><div class="card-foot">Outer corona (3.7–30 solar radii). Tracks CMEs outward. CME arrival at Earth: typically 1–3 days after C3 appearance.</div></div>
    </div>
    <h2>Solar Ultraviolet <span class="section-label">SUVI · GOES-18</span></h2>
    <p class="section-desc">Extreme ultraviolet images reveal the Sun's atmosphere at different temperatures — from cool chromosphere (50,000 K) to hot flaring plasma (6+ million K).</p>
    <div class="grid grid-3">
        <div class="card"><div class="card-head"><span class="card-title">SUVI 094 Å</span><span class="card-meta">Fe XVIII · 6.3 MK</span></div><div class="card-body"><img id="img-suvi-094-18" width="512" height="512" loading="lazy" alt="SUVI 094 angstrom" onclick="openLightbox(this)"><div class="loading" id="load-suvi-094-18">Loading...</div></div><div class="card-foot">Hot flaring plasma at ~6.3 million K. Bright regions = active flares.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">SUVI 171 Å</span><span class="card-meta">Fe IX · 630 kK</span></div><div class="card-body"><img id="img-suvi-171-18" width="512" height="512" loading="lazy" alt="SUVI 171 angstrom" onclick="openLightbox(this)"><div class="loading" id="load-suvi-171-18">Loading...</div></div><div class="card-foot">Quiet corona and magnetic loops at ~630,000 K.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">SUVI 304 Å</span><span class="card-meta">He II · 50 kK</span></div><div class="card-body"><img id="img-suvi-304-18" width="512" height="512" loading="lazy" alt="SUVI 304 angstrom" onclick="openLightbox(this)"><div class="loading" id="load-suvi-304-18">Loading...</div></div><div class="card-foot">Chromosphere at ~50,000 K. Filaments and prominences visible.</div></div>
    </div>
    <h2>Solar Dynamics Observatory <span class="section-label">NASA SDO · HMI · AIA</span></h2>
    <div class="grid grid-2">
        <div class="card"><div class="card-head"><span class="card-title">HMI Intensitygram</span><span class="card-meta">Photosphere</span></div><div class="card-body"><img id="img-hmi-intensity" width="512" height="512" loading="lazy" alt="HMI Intensitygram" onclick="openLightbox(this)"><div class="loading" id="load-hmi-intensity">Loading...</div></div><div class="card-foot">Visible light photosphere. Dark spots = sunspot umbrae (~3,700 K vs ~5,800 K surface).</div></div>
        <div class="card"><div class="card-head"><span class="card-title">HMI Magnetogram</span><span class="card-meta">Magnetic field</span></div><div class="card-body"><img id="img-hmi-magneto" width="512" height="512" loading="lazy" alt="HMI Magnetogram" onclick="openLightbox(this)"><div class="loading" id="load-hmi-magneto">Loading...</div></div><div class="card-foot">Magnetic polarity: white = north, black = south. Complex intertwined regions = highest flare risk.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">AIA 171 Å</span><span class="card-meta">Corona · 630 kK</span></div><div class="card-body"><img id="img-aia-171" width="512" height="512" loading="lazy" alt="AIA 171" onclick="openLightbox(this)"><div class="loading" id="load-aia-171">Loading...</div></div><div class="card-foot">Corona at 630,000 K showing magnetic loops. Dark patches = coronal holes.</div></div>
        <div class="card"><div class="card-head"><span class="card-title">AIA 304 Å</span><span class="card-meta">Chromosphere · 50 kK</span></div><div class="card-body"><img id="img-aia-304" width="512" height="512" loading="lazy" alt="AIA 304" onclick="openLightbox(this)"><div class="loading" id="load-aia-304">Loading...</div></div><div class="card-foot">Chromosphere at 50,000 K. Dark filaments on disk = bright prominences at limb.</div></div>
    </div>
    <div class="sources" id="sources">
        <h3>Data Sources &amp; Credits</h3>
        <p>Schumann resonance: <a href="http://sosrff.tsu.ru/" target="_blank">Space Observatory System (SOS), Tomsk State University, Russia</a></p>
        <p>Solar weather: <a href="https://www.swpc.noaa.gov/" target="_blank">NOAA Space Weather Prediction Center</a></p>
        <p>Solar imagery: <a href="https://sdo.gsfc.nasa.gov/" target="_blank">NASA SDO</a> · <a href="https://soho.nascom.nasa.gov/" target="_blank">ESA/NASA SOHO</a> · <a href="https://www.goes.noaa.gov/" target="_blank">NOAA GOES-18</a></p>
        <p class="credit">Data refreshes every 5 minutes · <a href="https://github.com/Siamsnus/schumann" target="_blank">Source on GitHub</a></p>
    </div>
</div>
</main>
<div class="lightbox" id="lightbox" onclick="closeLightbox()"><button class="lightbox-close" onclick="closeLightbox()">×</button><img id="lightbox-img" src="" alt="Full size"></div>
<div class="footer"><div class="footer-inner">
    <div class="footer-links">
        <a href="/schumann/">Live Data</a>
        <a href="/schumann/about.html">What is Schumann Resonance?</a>
        <a href="/schumann/science.html">Reading the Charts</a>
        <a href="/schumann/history.html">Discovery History</a>
    </div>
    <div class="footer-copy">Schumann Resonance Monitor · Data updates every 5 minutes · Hosted on GitHub Pages</div>
</div></div>
<script>
(function(){
    var CDN='https://www.schumann-frequenz-resonanz.de/assets/images/';
    var IMAGES={
        'schumann':['schumann-frequenz','jpg'],'quality':['qualitaetsfaktoren-der-schumann-frequenz','jpg'],
        'amplitude':['amplituden-der-schumann-frequenz','jpg'],'frequency':['frequenzen-der-schumann-frequenz','jpg'],
        'em-background':['elektromagnetischer-hintergrundpegel-schumann-frequenz','jpg'],
        'ionogram':['letztes-ionogramm-schumann-frequenz','jpg'],'critical-freq':['kritische-frequenzen-schumann-frequenz','jpg'],
        'critical-no-sporad':['kritische-frequenzen-ohne-sporadische-schichten','jpg'],
        'active-heights':['aktive-hoehen-schumann-frequenz','jpg'],'magnetic-field':['magnetfeldkomponenten-schumann-frequenz','jpg'],
        'world-database':['weltdatenbank','bmp'],'solar-xray':['sonneneruptionen','png'],
        'lasco-c2':['lasco-c2-512','jpg'],'lasco-c3':['lasco-c3-512','jpg'],
        'suvi-094-18':['suvi-094-goes-18','png'],'suvi-171-18':['suvi-171-goes-18','png'],
        'suvi-304-18':['suvi-304-goes-18','png'],'thematic-18':['thematische-karte-goes-18','png'],
        'sunspots':['sonnenfleckenregionen','jpg'],'coronal-holes':['koronale-loecher','jpg'],
        'hmi-intensity':['hmi-intensitygram','jpg'],'hmi-magneto':['hmi-magnetogram','jpg'],
        'aia-171':['aia-171','jpg'],'aia-304':['aia-304','jpg']
    };
    var goodTimestamp=null;
    function getTimestamps(maxBack){
        maxBack=maxBack||48;var stamps=[],now=Date.now(),seen={};
        for(var i=0;i<=maxBack;i++){
            var d=new Date(now-(i*5*60*1000)),parts={};
            new Intl.DateTimeFormat('en-GB',{timeZone:'Europe/Berlin',year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',hour12:false}).formatToParts(d).forEach(function(p){parts[p.type]=p.value});
            var min=Math.floor(parseInt(parts.minute)/5)*5;
            var ts=parts.day+'-'+parts.month+'-'+parts.year+'-'+parts.hour+'-'+String(min).padStart(2,'0');
            if(!seen[ts]){seen[ts]=true;stamps.push(ts)}
        }
        return stamps;
    }
    function probeAndLoadAll(){
        var statusEl=document.getElementById('load-status');
        var stamps=getTimestamps(48),probeInfo=IMAGES['schumann'],idx=0;
        if(statusEl)statusEl.textContent='Finding latest data...';
        function tryProbe(){
            if(idx>=stamps.length){
                if(statusEl)statusEl.textContent='Source unavailable';
                Object.keys(IMAGES).forEach(function(k){loadFallback(k)});return;
            }
            var ts=stamps[idx],url=CDN+probeInfo[0]+'-'+ts+'.'+probeInfo[1];idx++;
            var tmp=new Image();
            tmp.onload=function(){goodTimestamp=ts;if(statusEl)statusEl.textContent='Connected';loadAllWith(ts)};
            tmp.onerror=function(){if(statusEl)statusEl.textContent='Searching... ('+idx+')';tryProbe()};
            tmp.src=url;
        }
        tryProbe();
    }
    function loadAllWith(ts){
        var keys=Object.keys(IMAGES),loaded=0,total=keys.length;
        keys.forEach(function(key){
            var info=IMAGES[key],url=CDN+info[0]+'-'+ts+'.'+info[1];
            var img=document.getElementById('img-'+key),load=document.getElementById('load-'+key);
            if(!img)return;
            var tmp=new Image();
            tmp.onload=function(){img.src=url;img.classList.add('loaded');if(load)load.classList.add('hidden');loaded++;updCount(loaded,total)};
            tmp.onerror=function(){loadFallback(key);loaded++;updCount(loaded,total)};
            tmp.src=url;
        });
    }
    function updCount(loaded,total){
        var s=document.getElementById('load-status');
        if(s){if(loaded>=total){s.textContent='All data loaded';setTimeout(function(){s.textContent='Live · Auto-refresh 5min'},2000)}else{s.textContent='Loading '+loaded+'/'+total}}
    }
    function loadFallback(key){
        var img=document.getElementById('img-'+key),load=document.getElementById('load-'+key);
        if(!img||!IMAGES[key])return;
        var info=IMAGES[key],stamps=getTimestamps(48),idx=0;
        function tryNext(){
            if(idx>=stamps.length){if(load)load.textContent='Unavailable';return}
            var url=CDN+info[0]+'-'+stamps[idx]+'.'+info[1];idx++;
            var tmp=new Image();
            tmp.onload=function(){img.src=url;img.classList.add('loaded');if(load)load.classList.add('hidden')};
            tmp.onerror=function(){tryNext()};tmp.src=url;
        }
        tryNext();
    }
    function updateTime(){
        var el=document.getElementById('cdn-time');
        if(el)el.textContent=new Date().toLocaleString('en-GB',{timeZone:'Europe/Berlin',day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit',hour12:false})+' CET';
    }
    window.refreshAll=function(){
        goodTimestamp=null;
        Object.keys(IMAGES).forEach(function(k){var img=document.getElementById('img-'+k),load=document.getElementById('load-'+k);if(img){img.classList.remove('loaded');img.removeAttribute('src')}if(load){load.classList.remove('hidden');load.textContent='Refreshing...'}});
        probeAndLoadAll();updateTime();
    };
    window.openLightbox=function(el){if(el&&el.src){document.getElementById('lightbox-img').src=el.src;document.getElementById('lightbox').classList.add('active');document.body.style.overflow='hidden'}};
    window.closeLightbox=function(){document.getElementById('lightbox').classList.remove('active');document.body.style.overflow=''};
    document.addEventListener('keydown',function(e){if(e.key==='Escape')closeLightbox()});
    // Touch: swipe down or pinch to close lightbox
    (function(){var ly=0,lx=0,lb=document.getElementById('lightbox');
    lb.addEventListener('touchstart',function(e){ly=e.touches[0].clientY;lx=e.touches[0].clientX},{passive:true});
    lb.addEventListener('touchend',function(e){var dy=e.changedTouches[0].clientY-ly;var dx=Math.abs(e.changedTouches[0].clientX-lx);if(dy>80&&dx<100)closeLightbox()},{passive:true});
    })();
    probeAndLoadAll();updateTime();
    setInterval(function(){window.refreshAll()},5*60*1000);
    setInterval(updateTime,60*1000);
})();
</script>
</body>
</html>
